<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedHub - Quiz Repara√ß√£o & Estresse Oxidativo</title>
    <style>
        :root {
            --bg-dark: #0f172a;
            --card-bg: #1e293b;
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --accent-blue: #3b82f6;
            --accent-green: #10b981;
            --accent-purple: #8b5cf6;
            --accent-red: #ef4444;
            --gradient-blue: linear-gradient(135deg, #3b82f6, #2563eb);
            --gradient-green: linear-gradient(135deg, #10b981, #059669);
            --gradient-purple: linear-gradient(135deg, #8b5cf6, #7c3aed);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center; 
            overflow-y: auto;
        }

        /* Main Content Container */
        .main-content {
            width: 100%;
            max-width: 1000px; 
            padding: 40px;
        }

        .header {
            text-align: center; 
            margin-bottom: 50px;
        }

        .header h1 {
            font-size: 2.5rem; 
            margin-bottom: 10px;
            background: linear-gradient(90deg, #f8fafc, #94a3b8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header p {
            color: var(--text-muted);
            font-size: 1.1rem;
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
            gap: 30px;
        }

        .card {
            padding: 30px;
            border-radius: 20px; 
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 220px; 
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        }

        .card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(rgba(255,255,255,0.1), transparent);
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .card:hover::after {
            opacity: 1;
        }

        .card-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            background: rgba(255,255,255,0.2);
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 15px;
            backdrop-filter: blur(5px);
        }

        .card h3 {
            font-size: 1.5rem;
            margin-bottom: 5px;
            font-weight: 700;
        }

        .card p {
            font-size: 1rem;
            opacity: 0.9;
        }

        /* Quiz Interface */
        .quiz-container {
            display: none;
            max-width: 800px;
            margin: 0 auto;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: #334155;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient-blue);
            width: 0%;
            transition: width 0.3s ease;
        }

        .question-card {
            background-color: var(--card-bg);
            padding: 40px;
            border-radius: 20px;
            border: 1px solid #334155;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .question-badge {
            background-color: rgba(59, 130, 246, 0.1);
            color: var(--accent-blue);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 25px;
            display: inline-block;
            border: 1px solid rgba(59, 130, 246, 0.2);
        }

        .question-text {
            font-size: 1.4rem;
            margin-bottom: 35px;
            line-height: 1.5;
            color: #e2e8f0;
        }

        .options-grid {
            display: grid;
            gap: 15px;
        }

        .option-btn {
            background-color: var(--bg-dark);
            border: 1px solid #334155;
            padding: 20px 25px;
            border-radius: 12px;
            color: var(--text-main);
            text-align: left;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 1.05rem;
            display: flex;
            align-items: center;
        }

        .option-btn:hover {
            border-color: var(--accent-blue);
            background-color: rgba(59, 130, 246, 0.05);
            transform: translateX(5px);
        }

        .option-btn.correct {
            border-color: var(--accent-green);
            background-color: rgba(16, 185, 129, 0.1);
            color: var(--accent-green);
        }

        .option-btn.wrong {
            border-color: var(--accent-red);
            background-color: rgba(239, 68, 68, 0.1);
            color: var(--accent-red);
        }

        /* Feedback Modal */
        .feedback-overlay {
            display: none;
            margin-top: 25px;
            padding: 25px;
            border-radius: 12px;
            background-color: #0f172a; 
            border-left: 4px solid var(--accent-blue);
            animation: slideIn 0.3s ease;
        }

        .feedback-title {
            font-weight: bold;
            margin-bottom: 8px;
            display: block;
            font-size: 1.1rem;
        }

        .feedback-text {
            color: #cbd5e1;
            font-size: 1rem;
            line-height: 1.6;
        }

        .next-btn {
            margin-top: 25px;
            padding: 15px 40px;
            background: var(--gradient-blue);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            float: right;
            transition: opacity 0.2s;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }

        .next-btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        /* Results Screen */
        .results-container {
            display: none;
            text-align: center;
            padding: 50px;
            background-color: var(--card-bg);
            border-radius: 20px;
            max-width: 600px;
            margin: 0 auto;
            border: 1px solid #334155;
        }

        .score-circle {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            border: 10px solid var(--accent-blue);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.5rem;
            font-weight: bold;
            margin: 30px auto;
            background: rgba(15, 23, 42, 0.5);
            box-shadow: 0 0 30px rgba(59, 130, 246, 0.2);
        }

        .restart-btn {
            padding: 15px 50px;
            background: var(--gradient-green);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            cursor: pointer;
            margin-top: 30px;
            font-weight: bold;
            transition: transform 0.2s;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }
        
        .restart-btn:hover {
            transform: translateY(-3px);
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            .main-content { padding: 20px; }
            .header h1 { font-size: 1.8rem; }
            .dashboard-grid { grid-template-columns: 1fr; }
            .card { height: 160px; }
        }
    </style>
</head>
<body>

    <!-- Main Content -->
    <div class="main-content">
        
        <!-- Screen 1: Dashboard / Selection -->
        <div id="screen-dashboard">
            <div class="header">
                <h1>N√≠vel Hard: Repara√ß√£o e Estresse Oxidativo</h1>
                <p>Prepare-se para quest√µes com nuances bioqu√≠micas e fisiopatol√≥gicas.</p>
            </div>

            <div class="dashboard-grid">
                <div class="card" style="background: var(--gradient-green)" onclick="startQuiz(10)">
                    <div class="card-icon">‚ö°</div>
                    <div>
                        <h3>Treino R√°pido</h3>
                        <p>10 Quest√µes aleat√≥rias</p>
                    </div>
                </div>

                <div class="card" style="background: var(--gradient-blue)" onclick="startQuiz(20)">
                    <div class="card-icon">üß†</div>
                    <div>
                        <h3>Treino Padr√£o</h3>
                        <p>20 Quest√µes aleat√≥rias</p>
                    </div>
                </div>

                <div class="card" style="background: var(--gradient-purple)" onclick="startQuiz(30)">
                    <div class="card-icon">üî•</div>
                    <div>
                        <h3>Maratona Completa</h3>
                        <p>Todas as 30 quest√µes</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Screen 2: Quiz -->
        <div id="screen-quiz" class="quiz-container">
            <div class="header">
                <h1 id="quiz-title" style="font-size: 2rem;">Quiz em Andamento</h1>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress"></div>
                </div>
            </div>

            <div class="question-card">
                <span class="question-badge" id="q-category">Categoria</span>
                <p class="question-text" id="q-text">Carregando pergunta...</p>
                
                <div class="options-grid" id="options-container">
                    <!-- Options injected via JS -->
                </div>

                <div class="feedback-overlay" id="feedback">
                    <span class="feedback-title" id="feedback-title">Resposta</span>
                    <p class="feedback-text" id="feedback-text">Explica√ß√£o aqui.</p>
                </div>

                <button class="next-btn" id="next-btn" onclick="nextQuestion()" style="display: none;">Pr√≥xima Quest√£o</button>
            </div>
        </div>

        <!-- Screen 3: Results -->
        <div id="screen-results" class="results-container">
            <h1 style="font-size: 2.5rem; color: var(--accent-green);">Treino Finalizado!</h1>
            <p style="color: var(--text-muted); margin-bottom: 30px;">Veja seu desempenho no m√≥dulo avan√ßado.</p>
            
            <div class="score-circle" id="final-score">0%</div>
            
            <p id="score-message" style="font-size: 1.2rem; margin-bottom: 20px; line-height: 1.6;">Mensagem motivacional.</p>
            
            <button class="restart-btn" onclick="location.reload()">Novo Treino</button>
        </div>

    </div>

    <script>
        // --- BANCO DE QUEST√ïES (30 ITENS DIF√çCEIS) ---
        const allQuestions = [
            // Repara√ß√£o Tecidual (Regenera√ß√£o vs Cicatriza√ß√£o)
            {
                category: "Repara√ß√£o Tecidual",
                text: "O f√≠gado √© composto por c√©lulas est√°veis. Qual √© o fator determinante que impede a regenera√ß√£o perfeita e leva √† cirrose ap√≥s les√µes cr√¥nicas?",
                options: [
                    "A perda da capacidade mit√≥tica dos hepat√≥citos.",
                    "A aus√™ncia de c√©lulas de Kupffer.",
                    "A destrui√ß√£o da arquitetura da matriz reticular (esqueleto fibroso).",
                    "A inibi√ß√£o da telomerase nos hepat√≥citos."
                ],
                correct: 2,
                explanation: "Hepat√≥citos dividem bem, gafanhoto! O problema na cirrose √© que a 'casa' (matriz) caiu. Sem o esqueleto de reticulina, as c√©lulas crescem em n√≥dulos desordenados."
            },
            {
                category: "Repara√ß√£o Tecidual",
                text: "Qual destas c√©lulas √© fundamental para a transi√ß√£o da fase inflamat√≥ria para a proliferativa, secretando fatores como TGF-Œ≤ e PDGF?",
                options: [
                    "Neutr√≥filo.",
                    "Macr√≥fago (fen√≥tipo M2).",
                    "Linf√≥cito T CD8.",
                    "Mast√≥cito."
                ],
                correct: 1,
                explanation: "O Macr√≥fago M2 √© o 'mestre de obras'. Ele limpa a bagun√ßa do neutr√≥filo e manda o sinal (TGF-Œ≤) para os pedreiros (fibroblastos) come√ßarem a trabalhar."
            },
            {
                category: "Repara√ß√£o Tecidual",
                text: "Durante a fase de matura√ß√£o da cicatriz, ocorre a substitui√ß√£o de col√°geno. Qual √© a troca correta?",
                options: [
                    "Col√°geno Tipo I (forte) por Col√°geno Tipo III (fraco).",
                    "Col√°geno Tipo III (imaturo) por Col√°geno Tipo I (maduro e resistente).",
                    "Elastina por Col√°geno Tipo IV.",
                    "Fibrina por Col√°geno Tipo II."
                ],
                correct: 1,
                explanation: "No in√≠cio (granula√ß√£o) temos col√°geno III, que √© frouxo. Na matura√ß√£o, as MMPs quebram ele para colocar o col√°geno I, que √© o 'concreto armado'."
            },
            {
                category: "Repara√ß√£o Tecidual",
                text: "Qual √© a for√ßa t√™nsil m√°xima que uma cicatriz na pele geralmente atinge em compara√ß√£o ao tecido original?",
                options: [
                    "100% (igual √† pele original).",
                    "Cerca de 70-80%.",
                    "Apenas 30%.",
                    "120% (mais forte que a original)."
                ],
                correct: 1,
                explanation: "Infelizmente, nunca volta a ser 100%. Uma cicatriz bem curada tem no m√°ximo 80% da for√ßa da pele original. O remendo nunca √© igual ao tecido virgem."
            },
            {
                category: "Repara√ß√£o Tecidual",
                text: "O tecido de granula√ß√£o √© a marca da fase proliferativa. Histologicamente, ele √© composto principalmente por:",
                options: [
                    "Pus, bact√©rias e fibrina.",
                    "Col√°geno denso acelular.",
                    "Novos vasos (angiog√™nese), fibroblastos e matriz frouxa.",
                    "Queratin√≥citos maduros."
                ],
                correct: 2,
                explanation: "Tecido de granula√ß√£o √© 'carne viva': vermelha (vasos novos), √∫mida e cheia de fibroblastos trabalhando. N√£o confunda com pus ou queloide."
            },
            
            // Inten√ß√µes e Cicatriza√ß√£o Patol√≥gica
            {
                category: "Tipos de Cicatriza√ß√£o",
                text: "A contra√ß√£o da ferida √© um mecanismo crucial na cicatriza√ß√£o de 2¬™ inten√ß√£o. Qual c√©lula √© respons√°vel por essa for√ßa contr√°til?",
                options: [
                    "Queratin√≥cito.",
                    "Miofibroblasto.",
                    "Macr√≥fago.",
                    "C√©lula Endotelial."
                ],
                correct: 1,
                explanation: "O fibroblasto treina na academia e vira Miofibroblasto (com actina muscular). Ele puxa as bordas da ferida grande para tentar fech√°-la."
            },
            {
                category: "Tipos de Cicatriza√ß√£o",
                text: "Qual √© a indica√ß√£o cl√°ssica para uma cicatriza√ß√£o por Terceira Inten√ß√£o?",
                options: [
                    "Incis√£o cir√∫rgica limpa.",
                    "Pequeno corte superficial.",
                    "Ferida infectada ou com grande edema que precisa ficar aberta inicialmente.",
                    "Queloide antigo."
                ],
                correct: 2,
                explanation: "Terceira inten√ß√£o √© o 'fechamento retardado'. Voc√™ deixa aberto para drenar o pus (infec√ß√£o) e s√≥ sutura dias depois quando estiver limpo."
            },
            {
                category: "Cicatriza√ß√£o Patol√≥gica",
                text: "Qual a principal diferen√ßa histol√≥gica e cl√≠nica entre Cicatriz Hipertr√≥fica e Queloide?",
                options: [
                    "Hipertr√≥fica tem col√°geno desorganizado; Queloide tem col√°geno paralelo.",
                    "Queloide regride espontaneamente; Hipertr√≥fica nunca regride.",
                    "Hipertr√≥fica respeita as margens da les√£o; Queloide invade a pele s√£ (patas de caranguejo).",
                    "N√£o h√° diferen√ßa, s√£o sin√¥nimos."
                ],
                correct: 2,
                explanation: "O Queloide √© um tumor benigno da cicatriz que n√£o sabe a hora de parar e invade a pele vizinha. A Hipertr√≥fica cresce para cima, mas fica dentro do corte."
            },
            {
                category: "Cicatriza√ß√£o Patol√≥gica",
                text: "Os queloides apresentam predisposi√ß√£o gen√©tica e s√£o mais comuns em afrodescendentes. O col√°geno neles √© descrito como:",
                options: [
                    "Fibras finas e paralelas.",
                    "Fibras grossas, hialinizadas e em arranjo desorganizado (redemoinhos).",
                    "Aus√™ncia de col√°geno, apenas elastina.",
                    "Rico em col√°geno tipo III apenas."
                ],
                correct: 1,
                explanation: "No microsc√≥pio, o queloide tem bandas grossas e 'vidradas' (hialinizadas) de col√°geno que parecem uma bagun√ßa completa."
            },
            {
                category: "Fatores Sist√™micos",
                text: "Por que pacientes com defici√™ncia de Vitamina C (Escorbuto) t√™m m√° cicatriza√ß√£o?",
                options: [
                    "A Vitamina C √© necess√°ria para a hidroxila√ß√£o da prolina e lisina no col√°geno.",
                    "A Vitamina C impede a coagula√ß√£o.",
                    "A Vitamina C inibe os macr√≥fagos.",
                    "A Vitamina C forma a queratina."
                ],
                correct: 0,
                explanation: "Sem Vitamina C, o fibroblasto produz um col√°geno defeituoso que n√£o forma a tripla h√©lice est√°vel. A ferida abre sozinha."
            },
            {
                category: "Fatores Sist√™micos",
                text: "O uso cr√¥nico de glicocorticoides (corticoides) prejudica a cicatriza√ß√£o principalmente por:",
                options: [
                    "Aumentar excessivamente a angiog√™nese.",
                    "Inibir a s√≠ntese de col√°geno e a fase inflamat√≥ria necess√°ria.",
                    "Estimular queloides.",
                    "Aumentar a prolifera√ß√£o de queratin√≥citos."
                ],
                correct: 1,
                explanation: "Corticoides freiam tudo! Eles inibem a inflama√ß√£o (que √© o gatilho da cicatriza√ß√£o) e a s√≠ntese de prote√≠nas pelos fibroblastos. A pele fica fina e fr√°gil."
            },

            // Estresse Oxidativo
            {
                category: "Estresse Oxidativo",
                text: "A Rea√ß√£o de Fenton √© um mecanismo perigoso que gera qual Esp√©cie Reativa de Oxig√™nio (ERO)?",
                options: [
                    "Per√≥xido de Hidrog√™nio (H2O2).",
                    "Radical Super√≥xido (O2‚Ä¢-).",
                    "Radical Hidroxila (OH‚Ä¢).",
                    "√ìxido N√≠trico (NO)."
                ],
                correct: 2,
                explanation: "Fenton mistura Ferro ferroso (Fe2+) com √°gua oxigenada (H2O2) e cria o monstro: o Radical Hidroxila, o mais destrutivo de todos."
            },
            {
                category: "Estresse Oxidativo",
                text: "Qual √© a fun√ß√£o da enzima Super√≥xido Dismutase (SOD)?",
                options: [
                    "Converter √°gua em oxig√™nio.",
                    "Converter o radical super√≥xido em per√≥xido de hidrog√™nio (H2O2).",
                    "Neutralizar o radical hidroxila.",
                    "Regenerar a Vitamina E."
                ],
                correct: 1,
                explanation: "A SOD pega o 'lixo' inicial da mitoc√¥ndria (super√≥xido) e o transforma em algo menos pior (H2O2), que depois a Catalase resolve."
            },
            {
                category: "Estresse Oxidativo",
                text: "Onde se localiza a enzima Catalase, respons√°vel por quebrar o H2O2 em √°gua e oxig√™nio?",
                options: [
                    "No n√∫cleo.",
                    "Nos lisossomos.",
                    "Nos peroxissomos.",
                    "No complexo de Golgi."
                ],
                correct: 2,
                explanation: "Decoreba de biologia celular: Catalase mora no Peroxissomo. √â l√° que ela desativa a √°gua oxigenada."
            },
            {
                category: "Estresse Oxidativo",
                text: "A Glutationa Peroxidase (GPx) neutraliza per√≥xidos, mas precisa de um cofator essencial para funcionar. Qual √©?",
                options: [
                    "Ferro.",
                    "C√°lcio.",
                    "Sel√™nio.",
                    "Magn√©sio."
                ],
                correct: 2,
                explanation: "GPx ama Sel√™nio. Sem sel√™nio na dieta, essa enzima crucial falha, e o estresse oxidativo aumenta."
            },
            {
                category: "Estresse Oxidativo",
                text: "Qual √© o mecanismo de a√ß√£o da Vitamina E (Tocoferol) como antioxidante?",
                options: [
                    "Ela age no citoplasma quelando ferro.",
                    "Ela √© lipossol√∫vel e protege as membranas celulares contra a peroxida√ß√£o lip√≠dica.",
                    "Ela degrada o H2O2.",
                    "Ela repara o DNA no n√∫cleo."
                ],
                correct: 1,
                explanation: "A Vitamina E √© a guardi√£ da gordura! Ela fica na membrana celular e se sacrifica para parar a rea√ß√£o em cadeia que destr√≥i os lip√≠dios."
            },
            {
                category: "Estresse Oxidativo",
                text: "Na les√£o de Isquemia-Reperfus√£o, o dano maior ocorre quando o sangue retorna. Por qu√™?",
                options: [
                    "Porque o sangue traz bact√©rias.",
                    "Porque o fluxo sangu√≠neo rompe os vasos.",
                    "Porque o oxig√™nio que chega alimenta a produ√ß√£o massiva de radicais livres nas mitoc√¥ndrias danificadas.",
                    "Porque o pH se torna alcalino demais."
                ],
                correct: 2,
                explanation: "√â o paradoxo do oxig√™nio. A c√©lula isqu√™mica est√° com a mitoc√¥ndria inst√°vel. Quando o O2 volta, a mitoc√¥ndria 'engasga' e cospe radicais livres para todo lado."
            },
            {
                category: "Estresse Oxidativo",
                text: "O que √© Peroxida√ß√£o Lip√≠dica?",
                options: [
                    "A quebra de gordura para energia.",
                    "O ataque de radicais livres aos √°cidos graxos da membrana celular, gerando instabilidade.",
                    "A s√≠ntese de colesterol oxidado.",
                    "O ac√∫mulo de gordura no f√≠gado."
                ],
                correct: 1,
                explanation: "Imagine a membrana da c√©lula ficando ran√ßosa. O radical livre rouba el√©trons da gordura da membrana, causando uma rea√ß√£o em cadeia que fura a c√©lula."
            },
            {
                category: "Estresse Oxidativo",
                text: "Qual vitamina hidrossol√∫vel ajuda a 'reciclar' a Vitamina E, devolvendo sua capacidade antioxidante?",
                options: [
                    "Vitamina D.",
                    "Vitamina A.",
                    "Vitamina C (√Åcido Asc√≥rbico).",
                    "Vitamina K."
                ],
                correct: 2,
                explanation: "Trabalho em equipe! A Vitamina E protege a membrana e fica oxidada. A Vitamina C (no sangue) chega e 'conserta' a Vitamina E para ela trabalhar de novo."
            },
            {
                category: "Estresse Oxidativo",
                text: "O radical hidroxila (OH‚Ä¢) √© extremamente perigoso porque:",
                options: [
                    "N√£o existem enzimas espec√≠ficas para neutraliz√°-lo; ele reage com o que estiver perto.",
                    "Ele tem vida longa e viaja pelo corpo todo.",
                    "Ele s√≥ ataca prote√≠nas.",
                    "Ele √© eliminado facilmente pela urina."
                ],
                correct: 0,
                explanation: "O OH‚Ä¢ √© um psicopata bioqu√≠mico. Ele n√£o escolhe alvo e n√£o tem enzima que o pare. A √∫nica defesa √© evitar que ele se forme (controlando o Ferro e H2O2)."
            },

            // Conceitos Mistos e Nuances
            {
                category: "Mecanismos",
                text: "As Metaloproteinases de Matriz (MMPs) s√£o cruciais no remodelamento. Quem controla a a√ß√£o delas para evitar destrui√ß√£o excessiva?",
                options: [
                    "Os macr√≥fagos M1.",
                    "Os TIMPs (Inibidores Teciduais de Metaloproteinases).",
                    "A Histamina.",
                    "O Col√°geno tipo I."
                ],
                correct: 1,
                explanation: "√â um balan√ßo fino. MMPs cortam, TIMPs guardam a tesoura. Se tiver muita MMP e pouco TIMP, a ferida n√£o fecha ou vira √∫lcera cr√¥nica."
            },
            {
                category: "Mecanismos",
                text: "O Diabetes Mellitus prejudica a cicatriza√ß√£o por v√°rios mecanismos, EXCETO:",
                options: [
                    "Diminui√ß√£o da fun√ß√£o dos neutr√≥filos (quimiotaxia e fagocitose).",
                    "Microangiopatia que causa isquemia local.",
                    "Aumento excessivo da s√≠ntese de col√°geno (fibrose r√°pida).",
                    "Neuropatia que reduz a percep√ß√£o de trauma."
                ],
                correct: 2,
                explanation: "Pelo contr√°rio! O diab√©tico tem dificuldade em formar col√°geno e granula√ß√£o. A ferida fica estagnada, n√£o fibrosa r√°pida."
            },
            {
                category: "Mecanismos",
                text: "Qual a fun√ß√£o do Zinco no processo de reparo?",
                options: [
                    "Formar a rede de fibrina.",
                    "Atuar como cofator para enzimas como as Metaloproteinases (MMPs) e DNA polimerases.",
                    "Transportar oxig√™nio.",
                    "Inibir a prolifera√ß√£o bacteriana diretamente."
                ],
                correct: 1,
                explanation: "Zinco √© o 'ajudante de pedreiro'. As enzimas que constroem DNA e remodelam o col√°geno (MMPs) n√£o funcionam sem ele."
            },
            {
                category: "Mecanismos",
                text: "A hip√≥xia na ferida estimula a angiog√™nese atrav√©s de qual fator de transcri√ß√£o?",
                options: [
                    "NF-kB.",
                    "HIF-1Œ± (Fator Induzido por Hip√≥xia).",
                    "p53.",
                    "Colagenase."
                ],
                correct: 1,
                explanation: "Quando falta oxig√™nio, a c√©lula estabiliza o HIF-1Œ±. Ele vai ao n√∫cleo e liga os genes do VEGF (fator de crescimento vascular) para criar novos vasos."
            },
            {
                category: "Fisiopatologia",
                text: "Em uma cicatriz antiga que se torna branca e avascular, qual fase do processo predominou?",
                options: [
                    "Inflamat√≥ria.",
                    "Proliferativa.",
                    "Remodelamento/Matura√ß√£o.",
                    "Hemostasia."
                ],
                correct: 2,
                explanation: "No final do remodelamento, os vasos (que deixavam a cicatriz vermelha) regridem por apoptose, e sobra apenas o col√°geno denso e branco."
            },
            {
                category: "Fisiopatologia",
                text: "Qual √© o papel da Fibrina na fase inicial da cicatriza√ß√£o?",
                options: [
                    "Fornecer resist√™ncia t√™nsil final.",
                    "Servir de matriz provis√≥ria (andaime) para migra√ß√£o celular.",
                    "Matar bact√©rias.",
                    "Inibir plaquetas."
                ],
                correct: 1,
                explanation: "A fibrina √© o 'andaime' tempor√°rio. As c√©lulas (macr√≥fagos e fibroblastos) usam a rede de fibrina como estrada para entrar na ferida."
            },
            {
                category: "Estresse Oxidativo",
                text: "O que s√£o 'Esp√©cies Reativas de Nitrog√™nio' (ERNs)?",
                options: [
                    "Derivados do Oxig√™nio apenas.",
                    "Derivados do √ìxido N√≠trico (NO), como o Peroxinitrito (ONOO-).",
                    "Enzimas antioxidantes.",
                    "Formas de armazenamento de nitrog√™nio."
                ],
                correct: 1,
                explanation: "O √ìxido N√≠trico (NO) √© bom, mas se encontrar o Super√≥xido, vira Peroxinitrito, que √© um radical extremamente t√≥xico."
            },
            {
                category: "Estresse Oxidativo",
                text: "Qual organela √© a principal fonte fisiol√≥gica de Radicais Livres (EROs) na c√©lula?",
                options: [
                    "Ret√≠culo Endoplasm√°tico.",
                    "Mitoc√¥ndria (Cadeia Transportadora de El√©trons).",
                    "N√∫cleo.",
                    "Complexo de Golgi."
                ],
                correct: 1,
                explanation: "A mitoc√¥ndria √© a usina de energia, mas 'vaza'. Cerca de 1-3% do oxig√™nio vira Super√≥xido durante a respira√ß√£o celular normal."
            },
            {
                category: "Repara√ß√£o",
                text: "A deisc√™ncia de sutura (abertura dos pontos) est√° frequentemente associada a:",
                options: [
                    "Excesso de Vitamina C.",
                    "Aumento da press√£o intra-abdominal, infec√ß√£o ou t√©cnica inadequada.",
                    "Forma√ß√£o excessiva de granula√ß√£o.",
                    "Queloide."
                ],
                correct: 1,
                explanation: "Deisc√™ncia √© o pesadelo do cirurgi√£o. Geralmente √© mec√¢nica (tossiu e rompeu) ou biol√≥gica (infec√ß√£o comeu a sutura)."
            },
            {
                category: "Repara√ß√£o",
                text: "O que define uma ferida cr√¥nica (ex: √∫lcera venosa)?",
                options: [
                    "Cicatriza√ß√£o em menos de 3 semanas.",
                    "Estagna√ß√£o na fase inflamat√≥ria, com excesso de proteases e biofilme bacteriano.",
                    "Excesso de fatores de crescimento.",
                    "Aus√™ncia total de bact√©rias."
                ],
                correct: 1,
                explanation: "A ferida cr√¥nica 'trava'. Ela fica presa na inflama√ß√£o, cheia de MMPs destruindo o tecido novo e bact√©rias protegidas por biofilme."
            }
        ];

        // --- L√ìGICA DO QUIZ ---
        let currentQuestions = [];
        let currentIndex = 0;
        let score = 0;
        let userAnswers = [];

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function startQuiz(count) {
            score = 0;
            currentIndex = 0;
            userAnswers = [];
            
            const shuffled = shuffleArray([...allQuestions]); 
            currentQuestions = shuffled.slice(0, count);

            document.getElementById('screen-dashboard').style.display = 'none';
            document.getElementById('screen-quiz').style.display = 'block';

            renderQuestion();
        }

        function renderQuestion() {
            const q = currentQuestions[currentIndex];
            
            document.getElementById('quiz-title').innerText = `Quest√£o ${currentIndex + 1} de ${currentQuestions.length}`;
            document.getElementById('q-category').innerText = q.category;
            document.getElementById('q-text').innerText = q.text;
            document.getElementById('feedback').style.display = 'none';
            document.getElementById('next-btn').style.display = 'none';

            const progressPct = ((currentIndex) / currentQuestions.length) * 100;
            document.getElementById('progress').style.width = `${progressPct}%`;

            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = ''; 

            q.options.forEach((opt, index) => {
                const btn = document.createElement('div');
                btn.className = 'option-btn';
                btn.innerText = opt;
                btn.onclick = () => checkAnswer(index, btn);
                optionsContainer.appendChild(btn);
            });
        }

        function checkAnswer(selectedIndex, selectedBtn) {
            const optionsDivs = document.querySelectorAll('.option-btn');
            optionsDivs.forEach(div => div.onclick = null); 

            const q = currentQuestions[currentIndex];
            const isCorrect = selectedIndex === q.correct;

            if (isCorrect) {
                selectedBtn.classList.add('correct');
                score++;
                showFeedback(true, "Boa, gafanhoto! Acertou em cheio.");
            } else {
                selectedBtn.classList.add('wrong');
                optionsDivs[q.correct].classList.add('correct');
                showFeedback(false, q.explanation);
            }

            document.getElementById('next-btn').style.display = 'block';
        }

        function showFeedback(isCorrect, text) {
            const fbBox = document.getElementById('feedback');
            const fbTitle = document.getElementById('feedback-title');
            const fbText = document.getElementById('feedback-text');

            fbBox.style.display = 'block';
            
            if (isCorrect) {
                fbBox.style.borderLeftColor = 'var(--accent-green)';
                fbTitle.innerText = "üéâ Certa Resposta!";
                fbTitle.style.color = 'var(--accent-green)';
                fbText.innerText = text; 
            } else {
                fbBox.style.borderLeftColor = 'var(--accent-red)';
                fbTitle.innerText = "üòÖ Calma, respira e aprende...";
                fbTitle.style.color = 'var(--accent-red)';
                fbText.innerText = text;
            }
        }

        function nextQuestion() {
            currentIndex++;
            if (currentIndex < currentQuestions.length) {
                renderQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            document.getElementById('screen-quiz').style.display = 'none';
            document.getElementById('screen-results').style.display = 'block';

            const percentage = Math.round((score / currentQuestions.length) * 100);
            const scoreCircle = document.getElementById('final-score');
            const msg = document.getElementById('score-message');

            scoreCircle.innerText = `${percentage}%`;

            if (percentage === 100) {
                scoreCircle.style.borderColor = 'var(--accent-green)';
                msg.innerText = "Impec√°vel! Voc√™ √© um mestre da cicatriza√ß√£o! üèÜ";
            } else if (percentage >= 70) {
                scoreCircle.style.borderColor = 'var(--accent-blue)';
                msg.innerText = "Muito bom! Seus fundamentos est√£o s√≥lidos. üëè";
            } else {
                scoreCircle.style.borderColor = 'var(--accent-orange)';
                msg.innerText = "O n√≠vel estava alto! Revise os antioxidantes e as fases. üí™";
            }
        }

    </script>
</body>
</html>